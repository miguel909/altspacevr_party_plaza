<html>
  <head>
    <meta charset="utf-8">
    <title>Party Plaza</title>
    <meta name="description" content="">
    <script src="https://aframe.io/releases/0.3.0/aframe.min.js"></script>
    <script src="https://cdn.rawgit.com/AltspaceVR/aframe-altspace-component/v1.4.0/dist/aframe-altspace-component.min.js"></script>
    <script src="http://sdk.altvr.com/libs/altspace.js/0.28.1/altspace.min.js"></script>
    <script>THREE.PositionalAudio = THREE.Audio</script>
    <script>
      AFRAME.registerComponent('altspace-collider', {
        schema: { enabled: { default: true } },
        init: function () {
          var flags = {collider: {enabled: this.data.enabled}};
          var self = this;
          function setColliderFlag() {
            self.el.object3D.userData.altspace = flags;
            self.el.object3D.traverse(function (obj) {
              if (obj instanceof THREE.Mesh) {
                obj.userData.altspace = flags;
              }
            })
          }
          setColliderFlag();
          this.el.addEventListener('model-loaded', setColliderFlag);
        }
      });
      AFRAME.registerComponent('skalafm-js-scene', {
        init: function () {
          var root = new THREE.Group();
          root.scale.set(0.1, 0.1, 0.1);
          root.position.set(-1, 0, 1);
          this.el.object3D.add(root);
          var sim = {scene: root};
          var behaviors = altspace.utilities.behaviors;

          function createFloor(){
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#000000'});
            var floor = new THREE.Mesh(geometry, material);
            floor.scale.set(1500,1,1500);
            floor.position.set(0,0,27);
            floor.material.side = THREE.DoubleSide;
            floor.userData.altspace = {collider: {enabled: false}};

            sim.scene.add(floor);

            return floor;
          }

          function createRoof(){
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#000000'});
            var roof = new THREE.Mesh(geometry, material);
            roof.scale.set(300,1,246);
            roof.position.set(0,75,27);
            roof.material.side = THREE.DoubleSide;

            sim.scene.add(roof);

            return roof;
          }

          function createWallBack(){
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#000000'});
            var wallBack = new THREE.Mesh(geometry, material);
            wallBack.scale.set(300,150,1);
            wallBack.position.set(0,0,150);
            wallBack.material.side = THREE.DoubleSide;

            sim.scene.add(wallBack);

            return wallBack;
          }

          function createWallFront(){
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#000000'});
            var wallFront = new THREE.Mesh(geometry, material);
            wallFront.scale.set(300,150,1);
            wallFront.position.set(0,0,-96);
            wallFront.material.side = THREE.DoubleSide;

            sim.scene.add(wallFront);

            return wallFront;
          }

          function createWallLeft(){
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#000000'});
            var wallLeft = new THREE.Mesh(geometry, material);
            wallLeft.scale.set(1,150,246);
            wallLeft.position.set(-150,0,27);
            wallLeft.material.side = THREE.DoubleSide;

            sim.scene.add(wallLeft);

            return wallLeft;
          }

          function createWallRight(){
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#000000'});
            var wallRight = new THREE.Mesh(geometry, material);
            wallRight.scale.set(1,150,246);
            wallRight.position.set(150,0,27);
            wallRight.material.side = THREE.DoubleSide;

            sim.scene.add(wallRight);

            return wallRight;
          }

          function createBlueLineFront(){

            // Flower Feet
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#00DBFA'});
            var line = new THREE.Mesh(geometry, material);
            line.scale.set(60,0.2,1);
            line.position.set(-1,1,-3);
            line.userData.altspace = {collider: {enabled: false}};

            line.addBehaviors(altspace.utilities.behaviors.Spin({speed: 0.0005}));

            sim.scene.add(line);

            return line;
          }

          function createBlueLineBack(){

            // Flower Feet
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#00DBFA'});
            var line = new THREE.Mesh(geometry, material);
            line.scale.set(60,0.2,1);
            line.position.set(-1,1,57);
            line.userData.altspace = {collider: {enabled: false}};

            line.addBehaviors(altspace.utilities.behaviors.Spin({speed: 0.0005}));


            sim.scene.add(line);

            return line;
          }

          function createBlueLineLeft(){

            // Flower Feet
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#00DBFA'});
            var line = new THREE.Mesh(geometry, material);
            line.scale.set(1,0.2,60);
            line.position.set(-30.5,1,27);
            line.userData.altspace = {collider: {enabled: false}};

            line.addBehaviors(altspace.utilities.behaviors.Spin({speed: 0.0005}));

            sim.scene.add(line);

            return line;
          }

          function createBlueLineRight(){

            // Flower Feet
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#00DBFA'});
            var line = new THREE.Mesh(geometry, material);
            line.scale.set(1,0.2,60);
            line.position.set(28.5,1,27);
            line.userData.altspace = {collider: {enabled: false}};

            line.addBehaviors(altspace.utilities.behaviors.Spin({speed: 0.0005}));

            sim.scene.add(line);

            return line;
          }

          function createPurpleLineFront(){

            // Flower Feet
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#FE0077'});
            var line = new THREE.Mesh(geometry, material);
            line.scale.set(299,0.2,3);
            line.position.set(0,1,-96);
            line.userData.altspace = {collider: {enabled: false}};

            sim.scene.add(line);

            return line;
          }

          function createPurpleLineBack(){

            // Flower Feet
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#FE0077'});
            var line = new THREE.Mesh(geometry, material);
            line.scale.set(299,0.2,3);
            line.position.set(0,1,150);
            line.userData.altspace = {collider: {enabled: false}};

            sim.scene.add(line);

            return line;
          }

          function createPurpleLineRight(){

            // Flower Feet
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#FE0077'});
            var line = new THREE.Mesh(geometry, material);
            line.scale.set(3,0.2,244.9);
            line.position.set(150,1,27);
            line.userData.altspace = {collider: {enabled: false}};

            sim.scene.add(line);

            return line;
          }

          function createPurpleLineLeft(){

            // Flower Feet
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#FE0077'});
            var line = new THREE.Mesh(geometry, material);
            line.scale.set(3,0.2,244.9);
            line.position.set(-150,1,27);
            line.userData.altspace = {collider: {enabled: false}};

            sim.scene.add(line);

            return line;
          }

          function createOrangeLineLeft(){
            // Flower Feet
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#FE0077'});
            var line = new THREE.Mesh(geometry, material);
            line.scale.set(8,20,0.2);
            line.rotation.set(0,0,0);
            line.position.set(-80,35,-42);
            line.userData.altspace = {collider: {enabled: false}};

            line.addBehaviors(altspace.utilities.behaviors.Spin({speed: 0.0005}));

            sim.scene.add(line);

            return line;
          }

          function createGreenLineRight(){
            // Flower Feet
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#00DBFA'});
            var line = new THREE.Mesh(geometry, material);
            line.scale.set(8,20,0.2);
            line.rotation.set(0,0,0);
            line.position.set(80,35,-42);
            line.userData.altspace = {collider: {enabled: false}};

            line.addBehaviors(altspace.utilities.behaviors.Spin({speed: 0.0005}));

            sim.scene.add(line);

            return line;
          }

          function createTableCubeBackLeft(){
            // Flower Feet
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#00DBFA'});
            var line = new THREE.Mesh(geometry, material);
            line.scale.set(8,20,0.2);
            line.rotation.set(0,0,0);
            line.position.set(-80,35,110);
            line.userData.altspace = {collider: {enabled: false}};

            line.addBehaviors(altspace.utilities.behaviors.Spin({speed: 0.0005}));

            sim.scene.add(line);

            return line;
          }

          function createTableCubeBackRight(){
            // Flower Feet
            var geometry = new THREE.BoxGeometry(1,1,1);  // SizeTop,SizeBottom,Height,Verticles
            var material = new THREE.MeshBasicMaterial({color: '#FE0077'});
            var line = new THREE.Mesh(geometry, material);
            line.scale.set(8,20,0.2);
            line.rotation.set(0,0,0);
            line.position.set(80,35,110);
            line.userData.altspace = {collider: {enabled: false}};

            line.addBehaviors(altspace.utilities.behaviors.Spin({speed: 0.0005}));

            sim.scene.add(line);

            return line;
          }



          createFloor();
          createRoof();

          createWallBack();
          createWallFront();
          createWallLeft();
          createWallRight();

          createBlueLineFront();
          createBlueLineBack();
          createBlueLineLeft();
          createBlueLineRight();

          createPurpleLineFront();
          createPurpleLineBack();
          createPurpleLineRight();
          createPurpleLineLeft();

          createOrangeLineLeft();
          createGreenLineRight();
          createTableCubeBackLeft();
          createTableCubeBackRight();
        },
        tick: function ( ){
          this.el.object3D.updateAllBehaviors();
        }
      });
    </script>
    <style type="text/css">
      .a-enter-vr{
        display:none;
      }
    </style>
    <script>
      // n-skeleton-parent only works with root meshes at the moment. Since most model loaders use a root
      // container object, we need to collapse the model so that n-skeleton-parent can access the mesh directly.
      AFRAME.registerComponent('collapse-model', {
        init: function () {
          this.el.addEventListener('model-loaded', function () {
            this.el.setObject3D('mesh', this.el.object3DMap.mesh.children[0]);
            // setObject3D emits this event in a-frame 0.4.0
            this.el.emit('object3dset', {type: 'mesh'});
          }.bind(this));
        }
      });
    </script>
  </head>

  <body>
    <!-- Fire GIF that could be on the wall: http://i.imgur.com/rFLvL8k.gif -->
    <a-scene altspace scale="10 10 10" skalafm-js-scene sync-system="author: altspacevr; app: test-scene-sync">
      <a-assets>
        <a-asset-item id="bar-obj" src="./models/bar3.obj"></a-asset-item>
        <a-asset-item id="bar-mtl" src="./models/bar3.mtl"></a-asset-item>
        <a-asset-item id="table-obj" src="./models/table.obj"></a-asset-item>
        <a-asset-item id="table-mtl" src="./models/table.mtl"></a-asset-item>
        <a-asset-item id="table_blue-obj" src="./models/table_blue.obj"></a-asset-item>
        <a-asset-item id="table_blue-mtl" src="./models/table_blue.mtl"></a-asset-item>
        <a-asset-item id="glowstick-blue-obj" src="./models/glowstick-blue.obj"></a-asset-item>
        <a-asset-item id="glowstick-blue-mtl" src="./models/glowstick-blue.mtl"></a-asset-item>
        <a-asset-item id="glowstick-pink-obj" src="./models/glowstick-pink.obj"></a-asset-item>
        <a-asset-item id="glowstick-pink-mtl" src="./models/glowstick-pink.mtl"></a-asset-item>
        <a-asset-item id="party_plaza_glasses-obj" src="./models/party_plaza_glasses.obj"></a-asset-item>
        <a-asset-item id="party_plaza_glasses-mtl" src="./models/party_plaza_glasses.mtl"></a-asset-item>
        <a-asset-item id="party_plaza_blue_glasses-obj" src="./models/party_plaza_blue_glasses.obj"></a-asset-item>
        <a-asset-item id="party_plaza_blue_glasses-mtl" src="./models/party_plaza_blue_glasses.mtl"></a-asset-item>

        <a-mixin id="glowstick-blue"
          obj-model="obj: #glowstick-blue-obj; mtl: #glowstick-blue-mtl" collapse-model
          scale="0.05 0.05 0.05"
          rotation="0 0 0">    
        </a-mixin>

        <a-mixin id="glowstick-pink"
          obj-model="obj: #glowstick-pink-obj; mtl: #glowstick-pink-mtl" collapse-model
          scale="0.05 0.05 0.05"
          rotation="0 0 0">    
        </a-mixin>

        <a-mixin id="party_plaza_glasses"
          obj-model="obj: #party_plaza_glasses-obj; mtl: #party_plaza_glasses-mtl" collapse-model
          scale="0.05 0.05 0.05"
          rotation="0 0 0">    
        </a-mixin>

        <a-mixin id="party_plaza_blue_glasses"
          obj-model="obj: #party_plaza_blue_glasses-obj; mtl: #party_plaza_blue_glasses-mtl" collapse-model
          scale="0.05 0.05 0.05"
          rotation="0 0 0">    
        </a-mixin>
        
        <a-mixin id="parent-to-left-hand"
          position="0 0 -0.1"
          rotation="0 0 0"
          scale="0.05 0.05 0.05"
          n-skeleton-parent="part: hand; side: left;"
          sync sync-n-skeleton-parent>
        </a-mixin>

        <a-mixin id="parent-to-right-hand"
          position="0 0 -0.1"
          rotation="0 0 0"
          scale="0.05 0.05 0.05"
          n-skeleton-parent="part: hand; side: right;"
          sync sync-n-skeleton-parent>
        </a-mixin>

        <a-mixin id="parent-to-head"
          position="0.04 0.03 -0.10"
          rotation="0 0 0"
          scale="0.0015 0.0015 0.0015"
          n-skeleton-parent="part: head;"
          sync sync-n-skeleton-parent>
        </a-mixin>
      </a-assets>
      
      <a-entity
        id="glowstick-blue-instantiator"
        mixin="glowstick-blue"
        instantiator="group: glowstick_left; on: click; mixin: glowstick-blue parent-to-left-hand"
        position="9 1.17 2.74"
        rotation="0 90 90">
      </a-entity>

      <a-entity
        id="glowstick-pink-instantiator"
        mixin="glowstick-pink"
        instantiator="group: glowstick_right; on: click; mixin: glowstick-pink parent-to-right-hand"
        position="9 1.17 2.56"
        rotation="0 90 90">
      </a-entity>

      <a-entity
        id="glowstick-blue-instantiator"
        mixin="glowstick-blue"
        instantiator="group: glowstick_right; on: click; mixin: glowstick-blue parent-to-right-hand"
        position="9 1.17 5.3"
        rotation="0 90 90">
      </a-entity>

      <a-entity
        id="glowstick-pink-instantiator"
        mixin="glowstick-pink"
        instantiator="group: glowstick_left; on: click; mixin: glowstick-pink parent-to-left-hand"
        position="9 1.17 5.47"
        rotation="0 90 90">
      </a-entity>

      <a-entity
        id="party_plaza_glasses-instantiator"
        mixin="party_plaza_glasses"
        instantiator="group: glasses; on: click; mixin: party_plaza_glasses parent-to-head"
        position="8.5 1.44 5.3"
        rotation="0 45 0"
        scale="0.0015 0.0015 0.0015">
      </a-entity>

      <a-entity
        id="party_plaza_blue_glasses-instantiator"
        mixin="party_plaza_blue_glasses"
        instantiator="group: glasses; on: click; mixin: party_plaza_blue_glasses parent-to-head"
        position="8.5 1.44 2.7"
        rotation="0 135 0"
        scale="0.0015 0.0015 0.0015">
      </a-entity>



        <a-entity position="9 36 -9" scale="10 10 10">
          <!-- For this enclosure the grid (center, center) floor position is: "-1 -3.1 1" when the object has the scale of "1 1 1" and the scene scale size is "10 10 10" -->
          <a-entity position="0.3 -3.65 1" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.3 -2.25 1" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.4 -3.8 1.5" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.4 -2.25 1.5" dur="13000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.2 -3.7 2" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.2 -2.25 2" dur="7000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.25 -4.2 1.75" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.25 -2.25 1.75" dur="12000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.25 -4.3 1.35" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.25 -2.25 1.35" dur="9000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.3 -4.4 0.75" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.25 -2.25 0.75" dur="11000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>




          <a-entity position="0.2 -3.65 0.53" rotation="0 0 0" geometry="primitive: box" scale="0.035 0.035 0.035" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.2 -2.25 0.53" dur="20000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.25 -3.75 1.175" rotation="0 0 0" geometry="primitive: box" scale="0.035 0.035 0.035" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.25 -2.25 1.175" dur="17000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.3 -3.75 1.6" rotation="0 0 0" geometry="primitive: box" scale="0.035 0.035 0.035" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.3 -2.25 1.6" dur="23000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>




          <a-entity position="0.3 -2.25 0.7" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.3 -3.65 0.7" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.4 -2.15 1.25" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.4 -3.65 1.25" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.2 -2.1 1.7" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.2 -3.65 1.7" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.25 -4.26 2.56" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.25 -3.65 2.56" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.25 -4.3 1.42" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.25 -3.65 1.42" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.3 -4.26 0.85" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.25 -3.65 0.85" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>




          <a-entity position="0.2 -2.25 0.47" rotation="0 0 0" geometry="primitive: box" scale="0.035 0.035 0.035" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.2 -3.65 0.47" dur="20000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.25 -2.15 1.132" rotation="0 0 0" geometry="primitive: box" scale="0.035 0.035 0.035" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.25 -3.65 1.132" dur="17000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="0.3 -2.3 1.73" rotation="0 0 0" geometry="primitive: box" scale="0.035 0.035 0.035" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="0.3 -3.65 1.73" dur="23000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>




          <a-entity position="-2.3 -3.65 1" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.3 -2.25 1" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.4 -3.8 1.5" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.4 -2.25 1.5" dur="13000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.2 -3.7 2" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.2 -2.25 2" dur="7000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.25 -4.2 1.75" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.25 -2.25 1.75" dur="12000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.25 -4.3 1.35" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.25 -2.25 1.35" dur="9000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.3 -4.4 0.75" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.25 -2.25 0.75" dur="11000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>




          <a-entity position="-2.2 -3.65 0.53" rotation="0 0 0" geometry="primitive: box" scale="0.035 0.035 0.035" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.2 -2.25 0.53" dur="20000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.25 -3.75 1.175" rotation="0 0 0" geometry="primitive: box" scale="0.035 0.035 0.035" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.25 -2.25 1.175" dur="17000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.3 -3.75 1.6" rotation="0 0 0" geometry="primitive: box" scale="0.035 0.035 0.035" radius="1" material="color: #00DBFA" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.3 -2.25 1.6" dur="23000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>




          <a-entity position="-2.3 -2.25 0.7" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.3 -3.65 0.7" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.4 -2.15 1.25" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.4 -3.65 1.25" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.2 -2.1 1.7" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.2 -3.65 1.7" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.25 -4.26 2.56" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.25 -3.65 2.56" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.25 -4.3 1.42" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.25 -3.65 1.42" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.3 -4.26 0.85" rotation="0 0 0" geometry="primitive: box" scale="0.025 0.025 0.025" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.25 -3.65 0.85" dur="10000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>




          <a-entity position="-2.2 -2.25 0.47" rotation="0 0 0" geometry="primitive: box" scale="0.035 0.035 0.035" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.2 -3.65 0.47" dur="20000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.25 -2.15 1.132" rotation="0 0 0" geometry="primitive: box" scale="0.035 0.035 0.035" radius="1" material="color: #FE0077">
            <a-animation attribute="position" to="-2.25 -3.65 1.132" dur="17000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>

          <a-entity position="-2.3 -2.3 1.73" rotation="0 0 0" geometry="primitive: box" scale="0.035 0.035 0.035" radius="1" material="color: #FE0077" altspace-collider="enabled: false">
            <a-animation attribute="position" to="-2.3 -3.65 1.73" dur="23000" opacity="0" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>


          <!-- Bar -->
          <a-entity id="cl-a" position="0 -3.60 1.3" rotation="-90 90 0" scale="0.004 0.004 0.004" obj-model="obj: #bar-obj; mtl: #bar-mtl" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false"></a-entity>

          <a-entity id="cl-a" position="-0.2 -3.59 0.58" rotation="-90 0 0" scale="0.004 0.004 0.004" obj-model="obj: #table-obj; mtl: #table-mtl" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false"></a-entity>

                <a-entity id="cl-a" position="-0.20 -3.13 0.58" rotation="0 0 0" geometry="primitive: box" scale="0.12 0.55 0.12" radius="1" material="color: #000000; transparent:true; opacity:0" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false">
                  <a-animation attribute="rotation" to="-360 0 0" dur="2000" repeat="indefinite" fill="forward" easing="linear"></a-animation>
                </a-entity>

          <a-entity id="cl-a" position="-1.8 -3.59 0.58" rotation="-90 0 0" scale="0.004 0.004 0.004" obj-model="obj: #table_blue-obj; mtl: #table_blue-mtl" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false"></a-entity>

                <a-entity id="cl-a" position="-1.8 -3.13 0.58" rotation="0 0 0" geometry="primitive: box" scale="0.12 0.55 0.12" radius="1" material="color: #000000; transparent:true; opacity:0" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false">
                  <a-animation attribute="rotation" to="-360 0 0" dur="2000" repeat="indefinite" fill="forward" easing="linear"></a-animation>
                </a-entity>

          <a-entity id="cl-a" position="-1.8 -3.59 2.1" rotation="-90 0 0" scale="0.004 0.004 0.004" obj-model="obj: #table-obj; mtl: #table-mtl" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false"></a-entity>

                <a-entity id="cl-a" position="-1.8 -3.13 2.1" rotation="0 0 0" geometry="primitive: box" scale="0.12 0.55 0.12" radius="1" material="color: #000000; transparent:true; opacity:0" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false">
                  <a-animation attribute="rotation" to="360 0 0" dur="2000" repeat="indefinite" fill="forward" easing="linear"></a-animation>
                </a-entity>

          <a-entity id="cl-a" position="-0.2 -3.59 2.1" rotation="-90 0 0" scale="0.004 0.004 0.004" obj-model="obj: #table_blue-obj; mtl: #table_blue-mtl" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false"></a-entity>
                <a-entity id="cl-a" position="-0.2 -3.13 2.1" rotation="0 0 0" geometry="primitive: box" scale="0.12 0.55 0.12" radius="1" material="color: #000000; transparent:true; opacity:0" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false">
                  <a-animation attribute="rotation" to="360 0 0" dur="2000" repeat="indefinite" fill="forward" easing="linear"></a-animation>
                </a-entity>


          <!-- Walls Collision -->
          <a-entity id="cl-a" position="-1 -3.22 -0.45" rotation="0 0 0" geometry="primitive: box" scale="3 0.75 1" radius="1" material="color: #00FFFF; transparent:true; opacity:0" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false">
          </a-entity>

          <a-entity id="cl-a" position="-1 -3.22 2.99" rotation="0 0 0" geometry="primitive: box" scale="3 0.75 1" radius="1" material="color: #00FFFF; transparent:true; opacity:0" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false">
          </a-entity>

          <a-entity id="cl-a" position="-2.98 -3.22 1.28" rotation="0 90 0" geometry="primitive: box" scale="2.48 0.75 1" radius="1" material="color: #00FFFF; transparent:true; opacity:0" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false">
          </a-entity>

          <a-entity id="cl-a" position="0.99 -3.22 1.28" rotation="0 90 0" geometry="primitive: box" scale="2.48 0.75 1" radius="1" material="color: #00FFFF; transparent:true; opacity:0" altspace-cursor-collider="enabled: false" n-mesh-collider="type: environment; convex: false">
          </a-entity>



          <a-entity position="-1 -3 1.3" rotation="45 0 0" geometry="primitive: box" scale="0.12 0.12 0.12" radius="1" material="color: #FE0077">
            <a-animation attribute="rotation" to="405 360 0" dur="23000" repeat="indefinite" fill="forward" easing="linear"></animation>
          </a-entity>
        </a-entity>
    </a-scene>

    <!-- Sørger for at jeg kan bruge et 3D Objekt som Collision -->
    <script>
      var mesh = document.querySelector('#cl-a');
      mesh.addEventListener('model-loaded', function() {
        var meshy = document.querySelector('#cl-a');
        var object = meshy.object3D;
        console.log(object);
        if(object != undefined && object.children != undefined && object.children.length && object.children[0].children != undefined && object.children[0].children.length){
          for(var i = 0; i < object.children[0].children.length; i++){
            var child_mesh = object.children[0].children[i];
            if(child_mesh.children != undefined && child_mesh.children.length){
              child_mesh.children[0].material.visible = false;
              console.log("Hiding Mesh");
            }
          }
        }
      });
    </script>
  </body>
</html>
